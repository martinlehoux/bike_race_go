#!/bin/sh
set -ev

rm -f ./**/*_templ.go
templ generate
gofmt -d -e -s .
go vet ./...
cvet ./...
staticcheck ./...
gosec -quiet ./...
gocyclo -over 10 -ignore '.*_templ\.go' .
golangci-lint run
go test ./...
go mod tidy